<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Pacman</title>
</head>
<body>
    
    <div class="maze"></div>
        <div id="pacman"></div>
    <div id="point"></div>
    <script>

        
        
        var pacman = {
            x : 1,
            y : 1
        };

        var point = 0;

        var maze = [
            [2,2,2,2,2,2,2,2,2,2,2,2,2],
            [2,0,1,1,1,1,1,1,1,1,1,1,2],
            [2,1,2,2,2,2,1,1,1,1,1,1,2],
            [2,1,1,1,1,2,1,1,1,1,1,1,2],
            [2,1,1,1,1,1,1,1,3,1,1,1,2],
            [2,1,3,1,1,2,1,1,1,1,1,1,2],
            [2,1,1,2,2,2,1,1,1,1,1,1,2],
            [2,1,1,2,1,1,1,2,1,1,1,1,2],
            [2,1,1,2,2,1,1,2,3,1,1,1,2],
            [2,1,1,1,2,1,1,2,1,1,1,1,2],
            [2,1,1,1,2,2,2,2,1,1,1,1,2],
            [2,1,4,1,1,1,1,1,1,1,1,1,2],
            [2,2,2,2,2,2,2,2,2,2,2,2,2]
        ]
    
        function displayMaze(){
            var output = "";
        for(let i = 0; i < maze.length; i++){
            output += "<div class='row'>";
            for(let j = 0; j < maze[i].length; j++){
                if(maze[i][j] == 2){
                    output += "<div class='brick'></div>"
                } else if (maze[i][j] == 1){
                    output += "<div class='coin'></div>"
                } else if (maze[i][j] == 0){
                    output += "<div class='empty'></div>"
                } else if (maze[i][j] == 3){
                    output += "<div class='cherry'></div>"
                } else if (maze[i][j] == 4){
                    output += "<div class='ghost'></div>"
                }
            }
            output += "</div>";
        }
        document.querySelector(".maze").innerHTML = output;
        document.querySelector("#point").innerHTML = point;
        console.log(output);
    }
    function displayPacman(){
        document.querySelector("#pacman").style.top = pacman.y*50+"px";
        document.querySelector("#pacman").style.left = pacman.x*50+"px";
    }
    displayMaze();
    displayPacman();

    document.onkeydown = function(e){
        if(e.keyCode == 39 && maze[pacman.y][pacman.x+1] != 2){ //right
            if(maze[pacman.y][pacman.x+1] == 1){ //coin
                point++;
            } else if(maze[pacman.y][pacman.x+1] == 3){ //cherry
                point+= 50;
            }
            maze[pacman.y][pacman.x+1] = 0;
            pacman.x++;
            document.querySelector("#pacman").style.transform = "rotate(0deg)";
        } else if(e.keyCode == 40 && maze[pacman.y+1][pacman.x] != 2 ){ //down
            if(maze[pacman.y+1][pacman.x] == 1){ //coin
                point++;
            } else if(maze[pacman.y+1][pacman.x] == 3){ //cherry
                point+= 50;
            }
            maze[pacman.y+1][pacman.x] = 0;
            pacman.y++;
            document.querySelector("#pacman").style.transform = "rotate(90deg)";
        } else if(e.keyCode == 37 && maze[pacman.y][pacman.x-1] != 2){ //left
            if(maze[pacman.y][pacman.x - 1] == 1){ //coin
                point++;
            } else if(maze[pacman.y][pacman.x - 1] == 3){ //cherry
                point += 50;
            }
            maze[pacman.y][pacman.x-1] = 0;
            pacman.x--;
            document.querySelector("#pacman").style.transform = "rotate(180deg)";
        } else if(e.keyCode == 38 && maze[pacman.y-1][pacman.x] != 2){ //up
            if(maze[pacman.y-1][pacman.x] == 1){ //coin
                point++;
            } else if(maze[pacman.y-1][pacman.x] == 3){ //cherry
                point += 50;
            }
            maze[pacman.y-1][pacman.x] = 0;
            pacman.y--;
            document.querySelector("#pacman").style.transform = "rotate(270deg)";
        }
        document.querySelector("#point").innerHTML = point;
        displayPacman();
        displayMaze();
    }
    
    </script>
</body>


</html>